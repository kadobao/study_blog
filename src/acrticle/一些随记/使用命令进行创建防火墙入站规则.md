---
title: 使用命令进行创建防火墙入站规则
icon:
order: 37
category:
  - 一些随记
tag:
  - 防火墙
  - 入站规则
---

## 基本概念

入站就是允许进入防火墙的流量，而出站就是允许从防火墙出去的流量。

- **入站**：流量可以访问到部署在本机的服务
- **出站**：流量可以从本机出去

---

## 操作步骤

### 1. 添加端口转发

```bash
netsh interface portproxy add v4tov4 listenaddress=0.0.0.0 listenport=8585 connectaddress=10.1.193.222 connectport=8585
```

### 2. 放行防火墙（关键！）

```bash
netsh advfirewall firewall add rule name="蒲公英_8585转发" dir=in action=allow protocol=TCP localport=8585 profile=any
```

### 3. 验证是否进行了端口转发

```bash
netsh interface portproxy show all
```

### 4. 验证规则是否创建

```bash
netsh advfirewall firewall show rule name="蒲公英_8585转发"
```

### 5. 查看所有的规则

```bash
netsh advfirewall firewall show rule name=all
```

### 6. 删除端口转发

```bash
netsh interface portproxy delete v4tov4 listenaddress=0.0.0.0 listenport=8585
```

### 7. 删除放行规则

```bash
netsh advfirewall firewall delete rule name="蒲公英_8585转发"
```