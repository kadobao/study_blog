---
title: 基本语法示例
icon: database
order: 2
category:
  - SQL理解
tag:
  - SQL基础
  - 数据库查询
---



# SQL 知识点分类讲解

## 一、数据操作语言(DML)

### 1. 更新字段
```sql
UPDATE Table1 SET Name='张三' WHERE Email='Test@qq.com'
```
- 功能：修改表中符合条件的记录
- 结构：
  - `UPDATE 表名` 指定要更新的表
  - `SET 列名=新值` 设置要更新的列和值
  - `WHERE 条件` 限定要更新的记录(可选，不加会更新所有记录)
- 注意：WHERE子句非常重要，不加可能导致全表更新

### 2. 插入记录
```sql
INSERT INTO Table1 (Name) VALUES (N'张三')
```
- 功能：向表中插入新记录
- 结构：
  - `INSERT INTO 表名` 指定要插入的表
  - `(列名列表)` 指定要插入的列(可选，不加则需为所有列提供值)
  - `VALUES (值列表)` 提供要插入的值
- 特殊说明：
  - `N'张三'`中的N表示Unicode字符串，确保中文字符正确存储
  - `(Name)` 的作用是明确指定要插入数据的列为 `Name` 列
  - 如果省略列名列表，则必须为表中所有列提供值

## 二、数据定义语言(DDL)

### 3. 添加新列
```sql
ALTER TABLE Table1 ADD Name NVARCHAR(50) NOT NULL DEFAULT ''
```
- 功能：修改表结构
- 结构：
  - `ALTER TABLE 表名` 指定要修改的表
  - `ADD 列名 数据类型 约束` 添加新列
- 参数说明：
  - `NVARCHAR(50)`: Unicode变长字符串，最大长度50
  - `NOT NULL`: 该列不允许为空
  - `DEFAULT ''`: 默认值为空字符串

## 三、数据查询语言(DQL)

### 4. SELECT模糊查询
```sql
SELECT * FROM "Table1" WHERE Name LIKE '%张%'
```
- 功能：从表中查询数据
- 结构：
  - `SELECT 列名` 指定要查询的列(*表示所有列)
  - `FROM 表名` 指定数据源
  - `WHERE 条件` 过滤条件(可选)
- 特殊说明：
  - `LIKE` 用于模糊匹配
  - `%` 是通配符，表示任意多个字符
  - `'%张%'` 表示包含"张"的任何字符串

### 5. JOIN 连接查询
```sql
-- 多表连接示例
SELECT T3.Name
FROM Table1 T1
JOIN Table2 T2 ON T1.OrderNo = T2.OrderNo
JOIN Table3 T3 ON T2.ItemNo = T3.ItemNo
WHERE T1.LotNo = 'BATCH-001'

-- 关联查询与子查询对比
-- 子查询版本
SELECT Value1 FROM Table1 WHERE Code = (SELECT Code FROM Table2 WHERE Identifier='ID123456-001');

-- 关联查询版本
SELECT O.Value1
FROM Table1 O
JOIN Table2 W ON W.Code = O.Code
WHERE Identifier='ID123456-001';
```
- 功能：从多个表中联合查询数据
- 核心概念：
  - JOIN ON就是用于联表查询的，注意 `联` 这个词，需要 `联表` 的就可以使用
  - JOIN的本质是"组合"而非"筛选"，它会为每一对匹配成功的行组合生成一个新行
  - JOIN ON可以将每一对匹配成功的行组合生成一个新行，生成一个逻辑虚拟表
