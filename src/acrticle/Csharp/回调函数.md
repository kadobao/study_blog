---
title: 回调函数
icon: code
order: 10
category:
  - C#学习
tag:
  - C#
  - 回调函数
---

# 回调函数

回调函数是指将一个函数作为参数传递给另一个函数，当某个事件发生或某个操作完成时，被传递的函数会被调用。我们称被传递的函数为回调函数。

在 C# 中，回调主要通过委托（delegate）来实现。

## 委托定义

首先，我们需要定义一个委托类型，它指定了回调函数的签名。

```csharp
// 定义委托类型
public delegate void CallbackDelegate(string message);
```

## 使用回调的方法

接下来，我们定义一个方法，它接受一个委托类型的参数，并在适当的时候调用这个委托。

```csharp
// 使用回调的方法
public void Process(CallbackDelegate callback)
{
    Console.WriteLine("处理中...");
    // 调用回调
    callback("处理完成");
}
```

## 回调方法

然后，我们定义一个符合委托签名的方法，这个方法将作为回调函数。

```csharp
// 回调方法
public void MyCallback(string message)
{
    Console.WriteLine($"回调收到消息: {message}");
}
```

## 使用示例

最后，我们调用 `Process` 方法，并将 `MyCallback` 方法作为参数传递给它。

```csharp
// 使用
Process(MyCallback);
```

通过这种方式，我们实现了回调函数的功能。当 `Process` 方法执行后，它会调用我们传递给它的回调函数 `MyCallback`，并输出相应的消息。