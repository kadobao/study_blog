---
title: 捕捉异常和抛出异常
icon: code
order: 9
category:
  - C#学习
tag:
  - 异常处理
  - 抛出异常
---

# 捕捉异常和抛出异常

在C#中，异常处理是编写健壮代码的关键部分。本文将介绍如何捕捉异常和抛出异常的最佳实践。

## 基本异常处理

使用 `try-catch` 块来捕捉和处理异常：

```csharp
try 
{
    // 可能抛出异常的代码
}
catch (Exception ex)
{
    Console.WriteLine($"打印异常类型: {ex.GetType().Name}");
    Console.WriteLine($"打印异常信息: {ex.Message}");
    Console.WriteLine($"打印异常详细信息: {ex.ToString()}");
}
```

## 抛出异常

### 1. 抛出自定义异常

```csharp
throw new Exception("这是一个自定义错误信息");
```

## 常用异常类型

### 2. 使用特定类型的异常

| 异常类别 | 异常类型 |
|---------|---------|
| **参数错误** | `ArgumentException`, `ArgumentNullException`, `ArgumentOutOfRangeException` |
| **无效操作** | `InvalidOperationException`, `NotSupportedException`, `ObjectDisposedException` |
| **集合与索引** | `IndexOutOfRangeException`, `KeyNotFoundException`, `NullReferenceException` |
| **IO & 文件** | `IOException`, `FileNotFoundException`, `DirectoryNotFoundException` |
| **格式解析** | `FormatException`, `OverflowException`, `InvalidDataException` |
| **线程与任务** | `TaskCanceledException`, `TimeoutException`, `ThreadAbortException` |
| **网络通信** | `WebException`, `SocketException`, `HttpRequestException` |
| **数据库** | `SqlException`, `DbUpdateException`, `EntityException` |
| **序列化** | `SerializationException`, `JsonException`, `XmlException` |