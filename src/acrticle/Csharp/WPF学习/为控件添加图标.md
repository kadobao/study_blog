---
title: 为控件添加图标
icon: code
order: 19
category:
  - C#学习
tag:
  - WPF
  - 图标
  - 控件
---

# 为控件添加图标

## 主要思想

将控件水平方向的内容分成两部分，左侧放置图标，右侧放置文本内容。

## 实现方法

### 添加图标样式

下面是一个为Label控件添加图标的样式定义：

```xml
<!-- 带图标标签样式定义 -->
<Style x:Key="IconLabelStyle" TargetType="{x:Type Label}">
    <Setter Property="Template">
        <Setter.Value>
            <ControlTemplate TargetType="{x:Type Label}">
                <Border x:Name="border">
                    <!-- 使用 Grid 作为容器，左侧放置图标，右侧放置文本内容 -->
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <!-- 图标列，固定宽度 -->
                            <ColumnDefinition Width="40"/>
                            <!-- 文本内容列，占用剩余空间 -->
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        
                        <!-- 图标区域 -->
                        <Path x:Name="Icon" 
                              Data="{Binding Tag, RelativeSource={RelativeSource AncestorType={x:Type Label}}}"
                              Height="20" Width="20"
                              Stretch="Uniform" 
                              Fill="{DynamicResource SecundaryGreenColor}" 
                              VerticalAlignment="Center" 
                              HorizontalAlignment="Center"
                              Grid.Column="0"/>
                        
                        <!-- 文本内容区域 -->
                        <ContentPresenter x:Name="ContentPresenter"
                                          Content="{TemplateBinding Content}"
                                          ContentTemplate="{TemplateBinding ContentTemplate}"
                                          Margin="{TemplateBinding Padding}"
                                          HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                                          VerticalAlignment="{TemplateBinding VerticalContentAlignment}"
                                          Grid.Column="1"/>
                    </Grid>
                </Border>
            </ControlTemplate>
        </Setter.Value>
    </Setter>
</Style>
```

### 使用方法

1. 在XAML中引用上面定义的样式
2. 设置控件的`Tag`属性为图标的路径数据
3. 应用`IconLabelStyle`样式到目标控件

### 代码示例

```xml
<Label Content="我的标签" 
       Style="{StaticResource IconLabelStyle}"
       Tag="M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z" />
```

## 注意事项

- 图标数据使用SVG路径格式
- 可以通过修改`Fill`属性来改变图标颜色
- 图标大小可以通过`Height`和`Width`属性调整
- 图标列宽度可以根据需要调整